const url = new URL(location.href); const params = new URLSearchParams(url.search); const scrollValue = params.get("scrollto"); if (scrollValue.endsWith("%")) { const percentage = parseFloat(scrollValue); if (!isNaN(percentage)) { const pageHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight); const scrollPosition = (percentage / 100) * (pageHeight - window.innerHeight); scrollTo(0, scrollPosition); console.log("[QueryScroller] Scrolled to", scrollPosition, "pixels"); } else { console.error("[QueryScroller] Invalid percentage value:", scrollValue); } } else { const pixelValue = parseFloat(scrollValue); if (!isNaN(pixelValue)) { scrollTo(0, pixelValue); console.log("[QueryScroller] Scrolled to", pixelValue, "pixels"); } else { console.error("[QueryScroller] Invalid scroll value:", scrollValue); } };